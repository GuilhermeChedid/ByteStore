<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ByteStore - Moda Masculina</title>
<link rel="stylesheet" href="css/style.css">
<style>
    .filtros {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: center;
        margin: 163px 0;
    }
    .filtros input, .filtros select {
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 6px;
    }
    .products-container {
        max-width: 1000px;
        margin: auto;
    }
    .product-card {
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        padding: 15px;
        margin: 20px;
        text-align: center;
        display: inline-block;
        width: 250px;
        vertical-align: top;
    }
    .product-card img {
        max-width: 100%;
        border-radius: 8px;
    }
    .price {
        font-weight: bold;
        color: #2a7a2a;
        margin: 10px 0;
    }
</style>
</head>
<body>

<header>
    <div class="logo">
        <a href="home.html">
            <img src="imagens/logo.jpeg" alt="ByteStore Logo">
        </a>
    </div>
    <nav>
        <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="masculina.html">Masculina</a></li>
            <li><a href="feminina.html">Feminina</a></li>
            <li><a href="carrinho.html">Carrinho</a></li>
        </ul>
    </nav>
</header>

<main>
    <section class="products-container">
        <h2 style="text-align:center; margin:30px 0;">Moda Masculina</h2>

        <!-- Filtros -->
        <div class="filtros">
            <input type="text" id="pesquisa" placeholder="Pesquisar produto...">
            <select id="preco">
                <option value="">Todos preços</option>
                <option value="1">Até R$50</option>
                <option value="2">R$50 - R$100</option>
                <option value="3">Acima de R$100</option>
            </select>
            <select id="tamanho">
                <option value="">Todos tamanhos</option>
                <option value="P">P</option>
                <option value="M">M</option>
                <option value="G">G</option>
                <option value="GG">GG</option>
            </select>
            <select id="categoria">
                <option value="">Todas categorias</option>
                <option value="camiseta">Camisetas</option>
                <option value="calça">Calças</option>
                <option value="jaqueta">Jaquetas</option>
                <option value="bermuda">Bermudas</option>
                <option value="camisa social">Camisas Sociais</option>
                <option value="moletom">Moletons</option>
            </select>
        </div>

        <!-- Produto 1 -->
        <div class="product-card" data-preco="79.90" data-nome="camiseta masculina" data-categoria="camiseta">
            <img src="imagens/oersized masculina.webp" alt="Camiseta Oversized Masculina" id="masc1">
            <div class="product-info">
                <h3>Camiseta Masculina</h3>
                <p class="price">R$ 79,90</p>
                <label for="tamanho-masc1">Tamanho:</label>
                <select id="tamanho-masc1">
                    <option value="P">P</option>
                    <option value="M" selected>M</option>
                    <option value="G">G</option>
                    <option value="GG">GG</option>
                </select>
                <button onclick="addToCart('Camiseta Masculina',79.90,'imagens/oersized masculina.webp',document.getElementById('tamanho-masc1').value)">Adicionar ao Carrinho</button>
            </div>
        </div>

        <!-- Produto 2 -->
        <div class="product-card" data-preco="129.90" data-nome="calça masculina" data-categoria="calça">
            <img src="imagens/calçaMasculina1.webp" alt="Calça Masculina" id="masc2">
            <div class="product-info">
                <h3>Calça Masculina</h3>
                <p class="price">R$ 129,90</p>
                <label for="tamanho-masc2">Tamanho:</label>
                <select id="tamanho-masc2">
                    <option value="P">P</option>
                    <option value="M">M</option>
                    <option value="G" selected>G</option>
                    <option value="GG">GG</option>
                </select>
                <button onclick="addToCart('Calça Masculina',129.90,'imagens/calçaMasculina1.webp',document.getElementById('tamanho-masc2').value)">Adicionar ao Carrinho</button>
            </div>
        </div>

        <!-- Produto 3 -->
        <div class="product-card" data-preco="149.90" data-nome="jaqueta masculina" data-categoria="jaqueta">
            <img src="imagens/jaqueta masculina.webp" alt="Jaqueta Masculina" id="masc3">
            <div class="product-info">
                <h3>Jaqueta Masculina</h3>
                <p class="price">R$ 149,90</p>
                <label for="tamanho-masc3">Tamanho: </label>
                <select id="tamanho-masc3">
                    <option value="P">P</option>
                    <option value="M">M</option>
                    <option value="G" selected>G</option>
                    <option value="GG">GG</option>
                </select>
                <button onclick="addToCart('Jaqueta Masculina',149.90,'imagens/jaquetaMasculina.webp',document.getElementById('tamanho-masc3').value)">Adicionar ao Carrinho</button>
            </div>
        </div>

        <!-- Produto 4 -->
        <div class="product-card" data-preco="59.90" data-nome="bermuda masculina" data-categoria="bermuda">
            <img src="imagens/bermuda masculina.webp" alt="Bermuda Masculina" id="masc4">
            <div class="product-info">
                <h3>Bermuda Masculina</h3>
                <p class="price">R$ 59,90</p>
                <label for="tamanho-masc4">Tamanho: </label>
                <select id="tamanho-masc4">
                    <option value="P" selected>P</option>
                    <option value="M">M</option>
                    <option value="G">G</option>
                    <option value="GG">GG</option>
                </select>
                <button onclick="addToCart('Bermuda Masculina',59.90,'imagens/bermudaMasculina.webp',document.getElementById('tamanho-masc4').value)">Adicionar ao Carrinho</button>
            </div>
        </div>

        <!-- Produto 5 -->
        <div class="product-card" data-preco="109.90" data-nome="camisa social masculina" data-categoria="camisa social">
            <img src="imagens/camisa social masculina.webp" alt="Camisa Social Masculina" id="masc5">
            <div class="product-info">
                <h3>Camisa Social Masculina</h3>
                <p class="price">R$ 109,90</p>
                <label for="tamanho-masc5">Tamanho: </label>
                <select id="tamanho-masc5">
                    <option value="P">P</option>
                    <option value="M" selected>M</option>
                    <option value="G">G</option>
                    <option value="GG">GG</option>
                </select>
                <button onclick="addToCart('Camisa Social Masculina',109.90,'imagens/camisaSocialMasculina.webp',document.getElementById('tamanho-masc5').value)">Adicionar ao Carrinho</button>
            </div>
        </div>

        <!-- Produto 6 -->
        <div class="product-card" data-preco="89.90" data-nome="moletom masculino" data-categoria="moletom">
            <img src="imagens/moletom masculino.webp" alt="Moletom Masculino" id="masc6">
            <div class="product-info">
                <h3>Moletom Masculino</h3>
                <p class="price">R$ 89,90</p>
                <label for="tamanho-masc6">Tamanho: </label>
                <select id="tamanho-masc6">
                    <option value="P">P</option>
                    <option value="M" selected>M</option>
                    <option value="G">G</option>
                    <option value="GG">GG</option>
                </select>
                <button onclick="addToCart('Moletom Masculino',89.90,'imagens/moletomMasculino.webp',document.getElementById('tamanho-masc6').value)">Adicionar ao Carrinho</button>
            </div>
        </div>

    </section>
</main>

<script>
    // Salva itens no carrinho
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    function addToCart(nome, preco, imagem, tamanho) {
        const item = { nome, preco, imagem, tamanho };
        cart.push(item);
        localStorage.setItem("cart", JSON.stringify(cart));
        alert(`${nome} (${tamanho}) adicionado ao carrinho por R$ ${preco.toFixed(2)}`);
    }

    // --- Filtro ---
    const pesquisa = document.getElementById('pesquisa');
    const preco = document.getElementById('preco');
    const tamanhoFiltro = document.getElementById('tamanho');
    const categoriaFiltro = document.getElementById('categoria');
    const produtos = document.querySelectorAll('.product-card');

    function filtrar() {
        const texto = pesquisa.value.toLowerCase();
        const price = preco.value;
        const size = tamanhoFiltro.value;
        const categoria = categoriaFiltro.value;

        produtos.forEach(produto => {
            const nome = produto.getAttribute('data-nome');
            const precoProd = parseFloat(produto.getAttribute('data-preco'));
            const categoriaProd = produto.getAttribute('data-categoria');
            let mostrar = true;

            if (texto && !nome.includes(texto)) mostrar = false;
            if (price === "1" && precoProd > 50) mostrar = false;
            if (price === "2" && (precoProd < 50 || precoProd > 100)) mostrar = false;
            if (price === "3" && precoProd < 100) mostrar = false;

            if (size) {
                const select = produto.querySelector("select");
                if (select && select.value !== size) mostrar = false;
            }

            if (categoria && categoria !== categoriaProd) mostrar = false;

            produto.style.display = mostrar ? 'inline-block' : 'none';
        });
    }

    pesquisa.addEventListener('input', filtrar);
    preco.addEventListener('change', filtrar);
    tamanhoFiltro.addEventListener('change', filtrar);
    categoriaFiltro.addEventListener('change', filtrar);
</script>
<div id="mensagem-adicionado" class="mensagem-adicionado">
        Produto adicionado ao carrinho!
    </div>

    <script>

        // Função unificada para adicionar ao carrinho
        function addToCart(nome, preco, imagem, tamanho) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existing = cart.find(item => item.nome === nome && item.tamanho === tamanho);

            if (existing) {
                existing.qty = (existing.qty || 1) + 1;
            } else {
                cart.push({ nome, preco, imagem, tamanho, qty: 1 });
            }

            localStorage.setItem("cart", JSON.stringify(cart));
            
            // Lógica para a mensagem estilizada
            const mensagem = document.getElementById('mensagem-adicionado');
            if (mensagem) {
                mensagem.textContent = `${nome} adicionado ao carrinho!`;
                mensagem.classList.add('show');
                
                setTimeout(() => {
                    mensagem.classList.remove('show');
                }, 3000);
            }
        }
    </script>

</body>
</html>
